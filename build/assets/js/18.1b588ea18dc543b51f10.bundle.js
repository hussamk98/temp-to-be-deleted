(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1822:function(e,t,a){"use strict";a.r(t),function(e){var r,n=a(411),o=a.n(n),l=a(112),c=a.n(l),u=a(186),s=a.n(u),i=a(76),d=a.n(i),m=a(188),p=a(0),f=a.n(p),b=a(144),E=a(62),h=a(91),v=a(75);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},x=[{name:"",url:"",order:0}],y=function(){var e,t=Object(b.c)(),a=Object(E.useQueryClient)(),r=Object(p.useState)([]),n=s()(r,2),o=n[0],l=n[1],u=Object(v.b)([m.a.GRAPHICAL_LAYOUT_IFRAME_CONFIG],(function(){return Object(h.a)("/layouts/graphical-view-iframe")})),i=u.data,g=u.isLoading,x=u.error,y=Object(v.a)((function(e){var t=JSON.stringify(e),a=new FormData;return a.append("emptyBlock",""),a.append("config",t),Object(h.c)("/layouts/graphical-view-iframe",a,{headers:{"Content-Type":"multipart/form-data"}})}),{onSuccess:(e=c()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.invalidateQueries(m.a.GRAPHICAL_LAYOUT_IFRAME_CONFIG);case 2:t.success("Updated successfully");case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),onError:function(){t.error("Something went wrong")}});Object(p.useEffect)((function(){!i||g||x||l(i)}),[i,g,x]);var I=function(){var e=c()(d.a.mark((function e(){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Set,r=0;case 2:if(!(r<o.length)){e.next=22;break}if(!a.has(o[r].order)){e.next=6;break}return t.error("Tab Order should be unique"),e.abrupt("return");case 6:if(!(o[r].order<0)){e.next=9;break}return t.error("Tab Order should be positive"),e.abrupt("return");case 9:if(o[r].url){e.next=12;break}return t.error("URL is required"),e.abrupt("return");case 12:if(o[r].url.match(/^(http|https):\/\/[^ "]+$/)){e.next=15;break}return t.error("Invalid URL"),e.abrupt("return");case 15:if(o[r].name){e.next=18;break}return t.error("Tab Title is required"),e.abrupt("return");case 18:a.add(o[r].order);case 19:r++,e.next=2;break;case 22:y.mutate(o);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f.a.createElement("div",null,f.a.createElement("div",{className:"card"},f.a.createElement("div",{className:"body"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-lg-50p col-sm-100p"},f.a.createElement("h4",{className:"font-20px mt-20px"},"Grpahical Layout Editor (IFrame)"),f.a.createElement(L,{state:o,setState:l}))),f.a.createElement("button",{className:"btn btn-primary mt-10px",onClick:I},"Update"))))};g(y,"useAlert{alert}\nuseQueryClient{queryClient}\nuseState{[state, setState]([])}\nuseQuery{{ data, isLoading, error }}\nuseMutation{mutation}\nuseEffect{}",(function(){return[b.c,E.useQueryClient,v.b,v.a]}));var L=function(e){var t=e.state,a=e.setState,r=function(e,r){var n=o()(t);n[r]||(n[r]={}),n[r][e.target.name]=e.target.value,a(n)},n=function(){a([].concat(o()(t),[{name:"",url:"",order:t.length}]))},l=Object(p.useMemo)((function(){return t&&t.length>0?t:(a(x),x)}),[t]);return l.map((function(e,o){return f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-lg-30p d-flex flex-column mt-10px"},f.a.createElement("label",null,"Tab Title"),f.a.createElement("input",{className:"form-control",value:e.name,type:"text",name:"name",onChange:function(e){return r(e,o)}})),f.a.createElement("div",{className:"col-lg-30p d-flex flex-column mt-10px"},f.a.createElement("label",null,"URL"),f.a.createElement("input",{className:"form-control",value:e.url,type:"text",name:"url",onChange:function(e){return r(e,o)}})),f.a.createElement("div",{className:"col-lg-30p d-flex flex-column mt-10px"},f.a.createElement("label",null,"tab Order"),f.a.createElement("input",{className:"form-control",value:e.order,type:"number",name:"order",placeholder:"Enter Value",onChange:function(e){return r(e,o)}})),f.a.createElement("div",{className:"col-lg-10p d-flex mt-40px p-0px"},(o>0||l.length>1)&&f.a.createElement("button",{className:"col-lg-40p btn btn-danger p-2px",onClick:function(){return function(e){a(t.filter((function(t,a){return a!==e})))}(o)}},"-"),"Â ",o===l.length-1&&f.a.createElement("button",{className:"col-lg-40p btn btn-primary p-2px",onClick:n},"+")))}))};g(L,"useMemo{data}");var I,w,C=y;t.default=C,(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(I.register(x,"fallbackDefaultRow","C:\\Users\\IDWISE\\Documents\\Test\\srto\\frontend-apps\\dashboard\\src\\pages\\GraphicalLayoutEditorIFrame.jsx"),I.register(y,"GraphicalLayoutIFrameEditor","C:\\Users\\IDWISE\\Documents\\Test\\srto\\frontend-apps\\dashboard\\src\\pages\\GraphicalLayoutEditorIFrame.jsx"),I.register(L,"DynamicForm","C:\\Users\\IDWISE\\Documents\\Test\\srto\\frontend-apps\\dashboard\\src\\pages\\GraphicalLayoutEditorIFrame.jsx"),I.register(C,"default","C:\\Users\\IDWISE\\Documents\\Test\\srto\\frontend-apps\\dashboard\\src\\pages\\GraphicalLayoutEditorIFrame.jsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)}.call(this,a(42)(e))}}]);